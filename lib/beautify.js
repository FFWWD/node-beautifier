function css_beautify(y,l){function a(){return e=y.charAt(++b)}function w(f){for(var h=b;a();)if("\\"==e)a(),a();else if(e==f)break;else if("\n"==e)break;return y.substring(h,b+1)}function z(){for(var e=b;f.test(y.charAt(b+1));)b++;return b!=e}function h(){var e=b;do;while(f.test(a()));return b!=e+1}function F(){var f=b;for(a();a();)if("*"==e&&"/"==y.charAt(b+1)){b++;break}return y.substring(f,b+1)}l=l||{};var k=l.indent_size||4,q=l.indent_char||" ";"string"==typeof k&&(k=parseInt(k));var f=/^\s+$/,
b=-1,e,A=y.match(/^[\r\n]*[\t ]*/)[0],q=Array(k+1).join(q),O=0,C={"{":function(b){C.singleSpace();u.push(b);C.newLine()},"}":function(b){C.newLine();u.push(b);C.newLine()},newLine:function(b){if(!b)for(;f.test(u[u.length-1]);)u.pop();u.length&&u.push("\n");A&&u.push(A)},singleSpace:function(){u.length&&!f.test(u[u.length-1])&&u.push(" ")}},u=[];for(A&&u.push(A);;){var v=h();if(!e)break;"{"==e?(O++,A+=q,C["{"](e)):"}"==e?(O--,A=A.slice(0,-k),C["}"](e)):'"'==e||"'"==e?u.push(w(e)):";"==e?u.push(e,"\n",
A):"/"==e&&"*"==y.charAt(b+1)?(C.newLine(),u.push(F(),"\n",A)):"("==e?"url"==y.substring(b-3,b).toLowerCase()?(u.push(e),z(),a()&&(")"!=e&&'"'!=e&&"'"!=e?u.push(w(")")):b--)):(v&&C.singleSpace(),u.push(e),z()):")"==e?u.push(e):","==e?(z(),u.push(e),C.singleSpace()):("]"!=e&&("["==e||"="==e?z():v&&C.singleSpace()),u.push(e))}return u.join("").replace(/[\n ]+$/,"")}"undefined"!==typeof exports&&(exports.css_beautify=css_beautify);function style_html(y,l){var a,w,z,h,F,k;l=l||{};w=l.indent_size||4;z=l.indent_char||" ";F=l.brace_style||"collapse";h=0==l.max_char?Infinity:l.max_char||250;k=l.unformatted||"a span bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");a=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=
this.token_type=this.tag_type="";this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?=".split(" "),extra_liners:["head","body","/html"],in_array:function(f,b){for(var e=0;e<b.length;e++)if(f===b[e])return!0;return!1}};this.get_content=function(){for(var f="",b=[],e=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];f=this.input.charAt(this.pos);
this.pos++;this.line_char_count++;if(this.Utils.in_array(f,this.Utils.whitespace))b.length&&(e=!0),this.line_char_count--;else{if(e){if(this.line_char_count>=this.max_char){b.push("\n");for(e=0;e<this.indent_level;e++)b.push(this.indent_string);this.line_char_count=0}else b.push(" "),this.line_char_count++;e=!1}b.push(f)}}return b.length?b.join(""):""};this.get_contents_to=function(f){if(this.pos==this.input.length)return["","TK_EOF"];var b="";f=RegExp("</"+f+"\\s*>","igm");f.lastIndex=this.pos;f=
(f=f.exec(this.input))?f.index:this.input.length;this.pos<f&&(b=this.input.substring(this.pos,f),this.pos=f);return b};this.record_tag=function(f){this.tags[f+"count"]?this.tags[f+"count"]++:this.tags[f+"count"]=1;this.tags[f+this.tags[f+"count"]]=this.indent_level;this.tags[f+this.tags[f+"count"]+"parent"]=this.tags.parent;this.tags.parent=f+this.tags[f+"count"]};this.retrieve_tag=function(f){if(this.tags[f+"count"]){for(var b=this.tags.parent;b&&f+this.tags[f+"count"]!==b;)b=this.tags[b+"parent"];
b&&(this.indent_level=this.tags[f+this.tags[f+"count"]],this.tags.parent=this.tags[b+"parent"]);delete this.tags[f+this.tags[f+"count"]+"parent"];delete this.tags[f+this.tags[f+"count"]];1==this.tags[f+"count"]?delete this.tags[f+"count"]:this.tags[f+"count"]--}};this.get_tag=function(f){var b="",e=[],a=!1,h;f="undefined"!==typeof f?f:!1;var l=this.pos,u=this.line_char_count;do{if(this.pos>=this.input.length)return f&&(this.pos=l,this.line_char_count=u),e.length?e.join(""):["","TK_EOF"];b=this.input.charAt(this.pos);
this.pos++;this.line_char_count++;if(this.Utils.in_array(b,this.Utils.whitespace))a=!0,this.line_char_count--;else{if("'"===b||'"'===b)if(!e[1]||"!"!==e[1])b+=this.get_unformatted(b),a=!0;"="===b&&(a=!1);e.length&&("="!==e[e.length-1]&&">"!==b&&a)&&(this.line_char_count>=this.max_char?(this.print_newline(!1,e),this.line_char_count=0):(e.push(" "),this.line_char_count++),a=!1);"<"===b&&(h=this.pos-1);e.push(b)}}while(">"!==b);b=e.join("");a=-1!=b.indexOf(" ")?b.indexOf(" "):b.indexOf(">");a=b.substring(1,
a).toLowerCase();"/"===b.charAt(b.length-2)||this.Utils.in_array(a,this.Utils.single_token)?f||(this.tag_type="SINGLE"):"script"===a?f||(this.record_tag(a),this.tag_type="SCRIPT"):"style"===a?f||(this.record_tag(a),this.tag_type="STYLE"):this.is_unformatted(a,k)?(b=this.get_unformatted("</"+a+">",b),e.push(b),0<h&&this.Utils.in_array(this.input.charAt(h-1),this.Utils.whitespace)&&e.splice(0,0,this.input.charAt(h-1)),h=this.pos-1,this.Utils.in_array(this.input.charAt(h+1),this.Utils.whitespace)&&e.push(this.input.charAt(h+
1)),this.tag_type="SINGLE"):"!"===a.charAt(0)?-1!=a.indexOf("[if")?(-1!=b.indexOf("!IE")&&(b=this.get_unformatted("--\x3e",b),e.push(b)),f||(this.tag_type="START")):-1!=a.indexOf("[endif")?(this.tag_type="END",this.unindent()):-1!=a.indexOf("[cdata[")?(b=this.get_unformatted("]]\x3e",b),e.push(b),f||(this.tag_type="SINGLE")):(b=this.get_unformatted("--\x3e",b),e.push(b),this.tag_type="SINGLE"):f||("/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type=
"START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output));f&&(this.pos=l,this.line_char_count=u);return e.join("")};this.get_unformatted=function(a,b){if(b&&-1!=b.toLowerCase().indexOf(a))return"";var e="",h="",l=!0;do{if(this.pos>=this.input.length)break;e=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(e,this.Utils.whitespace)){if(!l){this.line_char_count--;continue}if("\n"===e||"\r"===e){h+="\n";this.line_char_count=0;continue}}h+=e;this.line_char_count++;
l=!0}while(-1==h.toLowerCase().indexOf(a));return h};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+
a||0;return 1>a?"":Array(a+1).join(this.indent_string)};this.is_unformatted=function(a,b){if(!this.Utils.in_array(a,b))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",b))return!0;var e=this.get_tag(!0);return e&&this.Utils.in_array(e,b)?!0:!1};this.printer=function(a,b,e,h,l){this.input=a||"";this.output=[];this.indent_character=b;this.indent_string="";this.indent_size=e;this.brace_style=l;this.indent_level=0;this.max_char=h;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=
this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;if(b&&b.length){if(!a)for(;this.Utils.in_array(b[b.length-1],this.Utils.whitespace);)b.pop();b.push("\n");for(var e=0;e<this.indent_level;e++)b.push(this.indent_string)}};this.print_token=function(a){this.output.push(a)};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&this.indent_level--}};return this};for(a.printer(y,z,w,h,F);;){w=a.get_token();a.token_text=w[0];a.token_type=w[1];
if("TK_EOF"===a.token_type)break;switch(a.token_type){case "TK_TAG_START":a.print_newline(!1,a.output);a.print_token(a.token_text);a.indent();a.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===a.last_token&&""===a.last_text&&(w=a.token_text.match(/\w+/)[0],z=a.output[a.output.length-1].match(/<\s*(\w+)/),(null===z||z[1]!==w)&&a.print_newline(!0,a.output));a.print_token(a.token_text);
a.current_mode="CONTENT";break;case "TK_TAG_SINGLE":w=a.token_text.match(/^\s*<([a-z]+)/i);(!w||!a.Utils.in_array(w[1],k))&&a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_CONTENT":""!==a.token_text&&a.print_token(a.token_text);a.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==a.token_text){a.output.push("\n");w=a.token_text;if("TK_SCRIPT"==a.token_type)var q="function"==typeof js_beautify&&js_beautify;else"TK_STYLE"==a.token_type&&
(q="function"==typeof css_beautify&&css_beautify);h="keep"==l.indent_scripts?0:"separate"==l.indent_scripts?-a.indent_level:1;z=a.get_full_indent(h);q?w=q(w.replace(/^\s*/,z),l):(F=w.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(a.indent_string).length-1,h=a.get_full_indent(h-F),w=w.replace(/^\s*/,z).replace(/\r\n|\r|\n/g,"\n"+h).replace(/\s*$/,""));w&&(a.print_token(w),a.print_newline(!0,a.output))}a.current_mode="TAG"}a.last_token=a.token_type;a.last_text=a.token_text}return a.output.join("")}
"undefined"!==typeof exports&&(exports.html_beautify=style_html);function js_beautify(y,l){function a(a){for(a="undefined"===typeof a?!1:a;s.length&&(" "===s[s.length-1]||s[s.length-1]===K||s[s.length-1]===Q||a&&("\n"===s[s.length-1]||"\r"===s[s.length-1]));)s.pop()}function w(a){return a.replace(/^\s\s*|\s\s*$/,"")}function z(a){a=a.replace(/\x0d/g,"");for(var b=[],c=a.indexOf("\n");-1!==c;)b.push(a.substring(0,c)),a=a.substring(c+1),c=a.indexOf("\n");a.length&&b.push(a);return b}function h(b,c){d.eat_next_space=!1;if(!G||!e(d.mode)){b="undefined"===typeof b?
!0:b;if("undefined"===typeof c||c)d.if_line=!1,d.chain_extra_indentation=0;a();if(s.length){if("\n"!==s[s.length-1]||!b)L=!0,s.push("\n");Q&&s.push(Q);for(var h=0;h<d.indentation_level+d.chain_extra_indentation;h+=1)F();d.var_line&&d.var_line_reindented&&F()}}}function F(){""!=n&&s.push(K)}function k(){var a=" ";d.eat_next_space?d.eat_next_space=!1:"TK_COMMENT"===m?h():(s.length&&(a=s[s.length-1])," "!==a&&("\n"!==a&&a!==K)&&s.push(" "))}function q(){L=!1;d.eat_next_space=!1;s.push(t)}function f(){s.length&&
s[s.length-1]===K&&s.pop()}function b(a){d&&R.push(d);d={previous_mode:d?d.mode:"BLOCK",mode:a,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,chain_extra_indentation:0,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_level:d?d.indentation_level+(d.var_line&&d.var_line_reindented?1:0):0,ternary_depth:0}}function e(a){return"[EXPRESSION]"===a||"[INDENTED-EXPRESSION]"===a}function A(a){return v(a,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)",
"(COND-EXPRESSION)"])}function O(){S="DO_BLOCK"===d.mode;if(0<R.length){var a=d.mode;d=R.pop();d.previous_mode=a}}function C(a,b){for(var c=0;c<a.length;c++)if(w(a[c]).charAt(0)!==b)return!1;return!0}function u(a){return v(a,"case return do if throw else".split(" "))}function v(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function X(a){for(var b=c,d=p.charAt(b);v(d,T)&&d!==a;){b++;if(b>=x)return 0;d=p.charAt(b)}return d}function W(){var b;D=0;if(c>=x)return["","TK_EOF"];H=!1;var g=
p.charAt(c);c+=1;if(G&&e(d.mode))for(;v(g,T);){"\n"===g?(a(),s.push("\n"),L=!0):L&&(g===K?s.push(K):"\r"!==g&&s.push(" "));if(c>=x)return["","TK_EOF"];g=p.charAt(c);c+=1}else{for(;v(g,T);){"\n"===g&&(D+=Y?D<=Y?1:0:1);if(c>=x)return["","TK_EOF"];g=p.charAt(c);c+=1}if(U&&1<D)for(b=0;b<D;b+=1)h(0===b),L=!0;H=0<D}if(v(g,V)){if(c<x)for(;v(p.charAt(c),V)&&!(g+=p.charAt(c),c+=1,c===x););if(c!==x&&g.match(/^[0-9]+[Ee]$/)&&("-"===p.charAt(c)||"+"===p.charAt(c))){b=p.charAt(c);c+=1;var f=W(),g=g+(b+f[0]);return[g,
"TK_WORD"]}if("in"===g)return[g,"TK_OPERATOR"];H&&("TK_OPERATOR"!==m&&"TK_EQUALS"!==m&&!d.if_line&&(U||"var"!==n))&&h();return[g,"TK_WORD"]}if("("===g||"["===g)return[g,"TK_START_EXPR"];if(")"===g||"]"===g)return[g,"TK_END_EXPR"];if("{"===g)return[g,"TK_START_BLOCK"];if("}"===g)return[g,"TK_END_BLOCK"];if(";"===g)return[g,"TK_SEMICOLON"];if("/"===g){b="";f=!0;if("*"===p.charAt(c)){c+=1;if(c<x)for(;c<x&&!("*"===p.charAt(c)&&p.charAt(c+1)&&"/"===p.charAt(c+1));){g=p.charAt(c);b+=g;if("\n"===g||"\r"===
g)f=!1;c+=1;if(c>=x)break}c+=2;return f&&0===D?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if("/"===p.charAt(c)){for(b=g;"\r"!==p.charAt(c)&&"\n"!==p.charAt(c)&&!(b+=p.charAt(c),c+=1,c>=x););H&&h();return[b,"TK_COMMENT"]}}if("'"===g||'"'===g||"/"===g&&("TK_WORD"===m&&u(n)||")"===n&&v(d.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||"TK_COMMA"===m||"TK_COMMENT"===m||"TK_START_EXPR"===m||"TK_START_BLOCK"===m||"TK_END_BLOCK"===m||"TK_OPERATOR"===m||"TK_EQUALS"===m||"TK_EOF"===
m||"TK_SEMICOLON"===m)){b=g;var l=f=!1,k=g;if(c<x)if("/"===b)for(g=!1;f||g||p.charAt(c)!==b;){if(k+=p.charAt(c),f?f=!1:(f="\\"===p.charAt(c),"["===p.charAt(c)?g=!0:"]"===p.charAt(c)&&(g=!1)),c+=1,c>=x)return[k,"TK_STRING"]}else for(;f||p.charAt(c)!==b;){k+=p.charAt(c);if(f){if("x"===p.charAt(c)||"u"===p.charAt(c))l=!0;f=!1}else f="\\"===p.charAt(c);c+=1;if(c>=x)return[k,"TK_STRING"]}c+=1;k+=b;if(l&&$)a:{for(var g=k,f=!1,l="",k=0,q="",r=0,t;f||k<g.length;)if(t=g.charAt(k),k++,f){f=!1;if("x"===t)q=
g.substr(k,2),k+=2;else if("u"===t)q=g.substr(k,4),k+=4;else{l+="\\"+t;continue}if(!q.match(/^[0123456789abcdefABCDEF]+$/)){k=g;break a}r=parseInt(q,16);if(0<=r&&32>r)l="x"===t?l+("\\x"+q):l+("\\u"+q);else if(34==r||39===r||92==r)l+="\\"+String.fromCharCode(r);else if("x"===t&&126<r&&255>=r){k=g;break a}else l+=String.fromCharCode(r)}else"\\"==t?f=!0:l+=t;k=l}if("/"===b)for(;c<x&&v(p.charAt(c),V);)k+=p.charAt(c),c+=1;return[k,"TK_STRING"]}if("#"===g){if(0===s.length&&"!"===p.charAt(c)){for(k=g;c<
x&&"\n"!==g;)g=p.charAt(c),k+=g,c+=1;s.push(w(k)+"\n");h();return W()}b="#";if(c<x&&v(p.charAt(c),Z)){do g=p.charAt(c),b+=g,c+=1;while(c<x&&"#"!==g&&"="!==g);"#"!==g&&("["===p.charAt(c)&&"]"===p.charAt(c+1)?(b+="[]",c+=2):"{"===p.charAt(c)&&"}"===p.charAt(c+1)&&(b+="{}",c+=2));return[b,"TK_WORD"]}}if("<"===g&&"\x3c!--"===p.substring(c-1,c+3)){c+=3;for(g="\x3c!--";"\n"!==p.charAt(c)&&c<x;)g+=p.charAt(c),c++;d.in_html_comment=!0;return[g,"TK_COMMENT"]}if("-"===g&&d.in_html_comment&&"--\x3e"===p.substring(c-
1,c+2))return d.in_html_comment=!1,c+=2,H&&h(),["--\x3e","TK_COMMENT"];if("."===g)return[g,"TK_DOT"];if(v(g,P)){for(;c<x&&v(g+p.charAt(c),P)&&!(g+=p.charAt(c),c+=1,c>=x););return","===g?[g,"TK_COMMA"]:"="===g?[g,"TK_EQUALS"]:[g,"TK_OPERATOR"]}return[g,"TK_UNKNOWN"]}var p,s,t,m,n,I,E,d,R,K,T,V,P,c,M,Z,r,N,S,H,L,D,Q="";l=l?l:{};var B;void 0!==l.space_after_anon_function&&void 0===l.jslint_happy&&(l.jslint_happy=l.space_after_anon_function);void 0!==l.braces_on_own_line&&(B=l.braces_on_own_line?"expand":
"collapse");B=l.brace_style?l.brace_style:B?B:"collapse";I=l.indent_size?l.indent_size:4;M=l.indent_char?l.indent_char:" ";var U="undefined"===typeof l.preserve_newlines?!0:l.preserve_newlines,aa="undefined"===typeof l.break_chained_methods?!1:l.break_chained_methods,Y="undefined"===typeof l.max_preserve_newlines?!1:l.max_preserve_newlines,ba="undefined"===l.jslint_happy?!0:l.jslint_happy,G="undefined"===typeof l.keep_array_indentation?!1:l.keep_array_indentation,ca="undefined"===typeof l.space_before_conditional?
!0:l.space_before_conditional,$="undefined"===typeof l.unescape_strings?!1:l.unescape_strings;L=!1;var x=y.length;for(K="";0<I;)K+=M,I-=1;for(;y&&(" "===y.charAt(0)||"\t"===y.charAt(0));)Q+=y.charAt(0),y=y.substring(1);p=y;E="";m="TK_START_EXPR";I=n="";s=[];S=!1;T=["\n","\r","\t"," "];V="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");Z="0123456789".split("");P="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::";
P+=" <%= <% %> <?= <? ?>";P=P.split(" ");M="continue try throw return var if switch case default for while break function".split(" ");R=[];b("BLOCK");for(c=0;;){N=W();t=N[0];N=N[1];if("TK_EOF"===N)break;switch(N){case "TK_START_EXPR":if("["===t){if("TK_WORD"===m||")"===n){v(n,M)&&k();b("(EXPRESSION)");q();break}"[EXPRESSION]"===d.mode||"[INDENTED-EXPRESSION]"===d.mode?"]"===I&&","===n?("[EXPRESSION]"===d.mode&&(d.mode="[INDENTED-EXPRESSION]",G||(d.indentation_level+=1)),b("[EXPRESSION]"),G||h()):
"["===n?("[EXPRESSION]"===d.mode&&(d.mode="[INDENTED-EXPRESSION]",G||(d.indentation_level+=1)),b("[EXPRESSION]"),G||h()):b("[EXPRESSION]"):b("[EXPRESSION]")}else"for"===E?b("(FOR-EXPRESSION)"):v(E,["if","while"])?b("(COND-EXPRESSION)"):b("(EXPRESSION)");";"===n||"TK_START_BLOCK"===m?h():"TK_END_EXPR"===m||"TK_START_EXPR"===m||"TK_END_BLOCK"===m||"."===n?H&&h():"TK_WORD"!==m&&"TK_OPERATOR"!==m?k():"function"===E||"typeof"===E?ba&&k():(v(n,M)||"catch"===n)&&ca&&k();q();break;case "TK_DOT":if(u(n))k();
else if(")"===n&&(aa||H))d.chain_extra_indentation=1,h(!0,!1);q();break;case "TK_END_EXPR":if("]"===t)if(G){if("}"===n){f();q();O();break}}else if("[INDENTED-EXPRESSION]"===d.mode&&"]"===n){O();h();q();break}O();q();break;case "TK_START_BLOCK":"do"===E?b("DO_BLOCK"):b("BLOCK");"expand"===B||"expand-strict"===B?(r=!1,"expand-strict"===B?(r="}"===X())||h(!0):"TK_OPERATOR"!==m&&("TK_EQUALS"===m||u(n)&&"else"!==n?k():h(!0)),q(),r||(d.indentation_level+=1)):("TK_OPERATOR"!==m&&"TK_START_EXPR"!==m?"TK_START_BLOCK"===
m?h():k():e(d.previous_mode)&&","===n&&("}"===I?k():h()),d.indentation_level+=1,q());break;case "TK_END_BLOCK":O();"expand"===B||"expand-strict"===B?"{"!==n&&h():"TK_START_BLOCK"===m?L?f():a():e(d.mode)&&G?(G=!1,h(),G=!0):h();q();break;case "TK_WORD":if(S){k();q();k();S=!1;break}r="NONE";if("function"===t){d.var_line&&"TK_EQUALS"!==m&&(d.var_line_reindented=!0);if((L||";"===n)&&"{"!==n&&"TK_BLOCK_COMMENT"!==m&&"TK_COMMENT"!==m){D=L?D:0;U||(D=1);for(E=0;E<2-D;E++)h(!1)}"TK_WORD"===m?"get"===n||"set"===
n||"new"===n||"return"===n?k():h():"TK_OPERATOR"===m||"="===n?k():A(d.mode)||h();q();E=t;break}if("case"===t||"default"===t&&d.in_case_statement){h();d.case_body&&(d.indentation_level--,d.case_body=!1,f());q();d.in_case=!0;d.in_case_statement=!0;break}"TK_END_BLOCK"===m?v(t.toLowerCase(),["else","catch","finally"])?"expand"===B||"end-expand"===B||"expand-strict"===B?r="NEWLINE":(r="SPACE",k()):r="NEWLINE":"TK_SEMICOLON"===m&&("BLOCK"===d.mode||"DO_BLOCK"===d.mode)?r="NEWLINE":"TK_SEMICOLON"===m&&
A(d.mode)?r="SPACE":"TK_STRING"===m?r="NEWLINE":"TK_WORD"===m?("else"===n&&a(!0),r="SPACE"):"TK_START_BLOCK"===m?r="NEWLINE":"TK_END_EXPR"===m&&(k(),r="NEWLINE");v(t,M)&&")"!==n&&(r="else"===n?"SPACE":"NEWLINE");d.if_line&&"TK_END_EXPR"===m&&(d.if_line=!1);if(v(t.toLowerCase(),["else","catch","finally"]))"TK_END_BLOCK"!==m||"expand"===B||"end-expand"===B||"expand-strict"===B?h():(a(!0),k());else if("NEWLINE"===r)if(u(n))k();else if("TK_END_EXPR"!==m){if(("TK_START_EXPR"!==m||"var"!==t)&&":"!==n)"if"===
t&&"else"===E&&"{"!==n?k():(d.var_line=!1,d.var_line_reindented=!1,h())}else v(t,M)&&")"!==n&&(d.var_line=!1,d.var_line_reindented=!1,h());else e(d.mode)&&","===n&&"}"===I?h():"SPACE"===r&&k();q();E=t;"var"===t&&(d.var_line=!0,d.var_line_reindented=!1,d.var_line_tainted=!1);"if"===t&&(d.if_line=!0);"else"===t&&(d.if_line=!1);break;case "TK_SEMICOLON":q();d.var_line=!1;d.var_line_reindented=!1;"OBJECT"===d.mode&&(d.mode="BLOCK");break;case "TK_STRING":"TK_END_EXPR"===m&&v(d.previous_mode,["(COND-EXPRESSION)",
"(FOR-EXPRESSION)"])?k():"TK_WORD"===m?k():"TK_COMMA"===m||"TK_START_EXPR"===m||"TK_EQUALS"===m||"TK_OPERATOR"===m?U&&(H&&"OBJECT"!==d.mode)&&(h(),F()):h();q();break;case "TK_EQUALS":d.var_line&&(d.var_line_tainted=!0);k();q();k();break;case "TK_COMMA":if(d.var_line){if(A(d.mode)||"TK_END_BLOCK"===m)d.var_line_tainted=!1;if(d.var_line_tainted){q();d.var_line_reindented=!0;d.var_line_tainted=!1;h();break}else d.var_line_tainted=!1;q();k();break}"TK_COMMENT"===m&&h();"TK_END_BLOCK"===m&&"(EXPRESSION)"!==
d.mode?(q(),"OBJECT"===d.mode&&"}"===n?h():k()):"OBJECT"===d.mode?(q(),h()):(q(),k());break;case "TK_OPERATOR":var J=r=!0;if(u(n)){k();q();break}if("*"===t&&"TK_DOT"===m&&!I.match(/^\d+$/)){q();break}if(":"===t&&d.in_case){d.case_body=!0;d.indentation_level+=1;q();h();d.in_case=!1;break}if("::"===t){q();break}v(t,["--","++","!"])||v(t,["-","+"])&&(v(m,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||v(n,M)||","==n)?(J=r=!1,";"===n&&A(d.mode)&&(r=!0),"TK_WORD"===m&&v(n,M)&&(r=!0),"BLOCK"===
d.mode&&("{"===n||";"===n)&&h()):":"===t?0===d.ternary_depth?("BLOCK"===d.mode&&(d.mode="OBJECT"),r=!1):d.ternary_depth-=1:"?"===t&&(d.ternary_depth+=1);r&&k();q();J&&k();break;case "TK_BLOCK_COMMENT":r=z(t);if(C(r.slice(1),"*")){h();s.push(r[0]);for(J=1;J<r.length;J++)h(),s.push(" "),s.push(w(r[J]))}else{1<r.length?h():"TK_END_BLOCK"===m?h():k();for(J=0;J<r.length;J++)s.push(r[J]),s.push("\n")}"\n"!==X("\n")&&h();break;case "TK_INLINE_COMMENT":k();q();k();break;case "TK_COMMENT":","===n&&!H&&a(!0);
"TK_COMMENT"!==m&&(H?h():k());q();h();break;case "TK_UNKNOWN":q()}"TK_INLINE_COMMENT"!==N&&(I=n,m=N,n=t)}return Q+s.join("").replace(/[\r\n ]+$/,"")}"undefined"!==typeof exports&&(exports.js_beautify=js_beautify);
