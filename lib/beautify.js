function css_beautify(v,e){function b(){return n=v.charAt(++f)}function t(a){for(var w=f;b();)if("\\"==n)b(),b();else if(n==a)break;else if("\n"==n)break;return v.substring(w,f+1)}function x(){for(var a=f;w.test(v.charAt(f+1));)f++;return f!=a}function h(){var a=f;do;while(w.test(b()));return f!=a+1}function g(){var a=f;for(b();b();)if("*"==n&&"/"==v.charAt(f+1)){f++;break}return v.substring(a,f+1)}var e=e||{},i=e.indent_size||4,a=e.indent_char||" ";"string"==typeof i&&(i=parseInt(i));var w=/^\s+$/,
f=-1,n,y=v.match(/^[\r\n]*[\t ]*/)[0],a=Array(i+1).join(a),K=0;print={"{":function(a){print.singleSpace();p.push(a);print.newLine()},"}":function(a){print.newLine();p.push(a);print.newLine()},newLine:function(a){if(!a)for(;w.test(p[p.length-1]);)p.pop();p.length&&p.push("\n");y&&p.push(y)},singleSpace:function(){p.length&&!w.test(p[p.length-1])&&p.push(" ")}};var p=[];for(y&&p.push(y);;){var r=h();if(!n)break;"{"==n?(K++,y+=a,print["{"](n)):"}"==n?(K--,y=y.slice(0,-i),print["}"](n)):'"'==n||"'"==
n?p.push(t(n)):";"==n?p.push(n,"\n",y):"/"==n&&"*"==v.charAt(f+1)?(print.newLine(),p.push(g(),"\n",y)):"("==n?(p.push(n),x(),"url"==p.slice(-4,-1).join("").toLowerCase()&&b()&&(")"!=n&&'"'!=n&&"'"!=n?p.push(t(")")):f--)):")"==n?p.push(n):","==n?(x(),p.push(n),print.singleSpace()):("]"!=n&&("["==n||"="==n?x():r&&print.singleSpace()),p.push(n))}return p.join("").replace(/[\n ]+$/,"")}"undefined"!==typeof exports&&(exports.css_beautify=css_beautify);function html_beautify(v,e){var b,t,x,h,g,e=e||{};t=e.indent_size||4;x=e.indent_char||" ";g=e.brace_style||"collapse";h=e.max_char||"120";unformatted=e.unformatted||["a"];b=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed".split(" "),
extra_liners:["head","body","/html"],in_array:function(a,b){for(var f=0;f<b.length;f++)if(a===b[f])return!0;return!1}};this.get_content=function(){for(var a="",b=[],f=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace))b.length&&(f=!0),this.line_char_count--;else{if(f){if(this.line_char_count>=this.max_char){b.push("\n");for(f=0;f<
this.indent_level;f++)b.push(this.indent_string);this.line_char_count=0}else b.push(" "),this.line_char_count++;f=!1}b.push(a)}}return b.length?b.join(""):""};this.get_contents_to=function(a){if(this.pos==this.input.length)return["","TK_EOF"];var b="",a=RegExp("</"+a+"\\s*>","igm");a.lastIndex=this.pos;a=(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(b=this.input.substring(this.pos,a),this.pos=a);return b};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+"count"]++:this.tags[a+
"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1==this.tags[a+
"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.get_tag=function(){var a="",b=[],f=!1;do{if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace))f=!0,this.line_char_count--;else{if("'"===a||'"'===a)if(!b[1]||"!"!==b[1])a+=this.get_unformatted(a),f=!0;"="===a&&(f=!1);b.length&&("="!==b[b.length-1]&&">"!==a&&f)&&(this.line_char_count>=this.max_char?(this.print_newline(!1,
b),this.line_char_count=0):(b.push(" "),this.line_char_count++),f=!1);b.push(a)}}while(">"!==a);a=b.join("");f=-1!=a.indexOf(" ")?a.indexOf(" "):a.indexOf(">");f=a.substring(1,f).toLowerCase();"/"===a.charAt(a.length-2)||this.Utils.in_array(f,this.Utils.single_token)?this.tag_type="SINGLE":"script"===f?(this.record_tag(f),this.tag_type="SCRIPT"):"style"===f?(this.record_tag(f),this.tag_type="STYLE"):this.Utils.in_array(f,unformatted)?(a=this.get_unformatted("</"+f+">",a),b.push(a),this.tag_type="SINGLE"):
"!"===f.charAt(0)?-1!=f.indexOf("[if")?(-1!=a.indexOf("!IE")&&(a=this.get_unformatted("--\>",a),b.push(a)),this.tag_type="START"):-1!=f.indexOf("[endif")?(this.tag_type="END",this.unindent()):(a=-1!=f.indexOf("[cdata[")?this.get_unformatted("]]\>",a):this.get_unformatted("--\>",a),b.push(a),this.tag_type="SINGLE"):("/"===f.charAt(0)?(this.retrieve_tag(f.substring(1)),this.tag_type="END"):(this.record_tag(f),this.tag_type="START"),this.Utils.in_array(f,this.Utils.extra_liners)&&this.print_newline(!0,
this.output));return b.join("")};this.get_unformatted=function(a,b){if(b&&-1!=b.indexOf(a))return"";var f="",h="",e=!0;do{if(this.pos>=this.input.length)break;f=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(f,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if("\n"===f||"\r"===f){h+="\n";this.line_char_count=0;continue}}h+=f;this.line_char_count++;e=!0}while(-1==h.indexOf(a));return h};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===
this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||0;return 1>a?"":Array(a+1).join(this.indent_string)};this.printer=function(a,b,f,h,e){this.input=a||"";this.output=[];this.indent_character=
b;this.indent_string="";this.indent_size=f;this.brace_style=e;this.indent_level=0;this.max_char=h;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;if(b&&b.length){if(!a)for(;this.Utils.in_array(b[b.length-1],this.Utils.whitespace);)b.pop();b.push("\n");for(var f=0;f<this.indent_level;f++)b.push(this.indent_string)}};this.print_token=function(b){this.output.push(b)};this.indent=function(){this.indent_level++};
this.unindent=function(){0<this.indent_level&&this.indent_level--}};return this};for(b.printer(v,x,t,h,g);;){t=b.get_token();b.token_text=t[0];b.token_type=t[1];if("TK_EOF"===b.token_type)break;switch(b.token_type){case "TK_TAG_START":b.print_newline(!1,b.output);b.print_token(b.token_text);b.indent();b.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":b.print_newline(!1,b.output);b.print_token(b.token_text);b.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===b.last_token&&
""===b.last_text&&(t=b.token_text.match(/\w+/)[0],x=b.output[b.output.length-1].match(/<\s*(\w+)/),(null===x||x[1]!==t)&&b.print_newline(!0,b.output));b.print_token(b.token_text);b.current_mode="CONTENT";break;case "TK_TAG_SINGLE":b.print_newline(!1,b.output);b.print_token(b.token_text);b.current_mode="CONTENT";break;case "TK_CONTENT":""!==b.token_text&&b.print_token(b.token_text);b.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==b.token_text){b.output.push("\n");t=b.token_text;
if("TK_SCRIPT"==b.token_type)var i="function"==typeof js_beautify&&js_beautify;else"TK_STYLE"==b.token_type&&(i="function"==typeof css_beautify&&css_beautify);h="keep"==e.indent_scripts?0:"separate"==e.indent_scripts?-b.indent_level:1;x=b.get_full_indent(h);i?t=i(t.replace(/^\s*/,x),e):(g=t.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(b.indent_string).length-1,h=b.get_full_indent(h-g),t=t.replace(/^\s*/,x).replace(/\r\n|\r|\n/g,"\n"+h).replace(/\s*$/,""));t&&(b.print_token(t),b.print_newline(!0,b.output))}b.current_mode=
"TAG"}b.last_token=b.token_type;b.last_text=b.token_text}return b.output.join("")}"undefined"!==typeof exports&&(exports.html_beautify=html_beautify);function js_beautify(v,e){function b(b){for(b="undefined"===typeof b?!1:b;m.length&&(" "===m[m.length-1]||m[m.length-1]===D||m[m.length-1]===J||b&&("\n"===m[m.length-1]||"\r"===m[m.length-1]));)m.pop()}function t(b){return b.replace(/^\s\s*|\s\s*$/,"")}function x(){var b=A;A=!1;h();A=b}function h(a){d.eat_next_space=!1;if(!A||!f(d.mode))if(a="undefined"===typeof a?!0:a,d.if_line=!1,b(),m.length){if("\n"!==m[m.length-1]||!a)E=!0,m.push("\n");J&&m.push(J);for(a=0;a<d.indentation_level;a+=1)m.push(D);
d.var_line&&d.var_line_reindented&&m.push(D);d.case_body&&m.push(D)}}function g(){if("TK_COMMENT"===j)return h(!0);if(d.eat_next_space)d.eat_next_space=!1;else{var b=" ";m.length&&(b=m[m.length-1]);" "!==b&&("\n"!==b&&b!==D)&&m.push(" ")}}function i(){E=!1;d.eat_next_space=!1;m.push(o)}function a(){m.length&&m[m.length-1]===D&&m.pop()}function w(b){d&&L.push(d);d={previous_mode:d?d.mode:"BLOCK",mode:b,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,in_case_statement:!1,
in_case:!1,case_body:!1,eat_next_space:!1,indentation_baseline:-1,indentation_level:d?d.indentation_level+(d.case_body?1:0)+(d.var_line&&d.var_line_reindented?1:0):0,ternary_depth:0}}function f(b){return"[EXPRESSION]"===b||"[INDENTED-EXPRESSION]"===b}function n(b){return r(b,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}function y(){M="DO_BLOCK"===d.mode;if(0<L.length){var b=d.mode;d=L.pop();d.previous_mode=b}}function K(b,a){for(var c=0;c<b.length;c++)if(t(b[c])[0]!=a)return!1;
return!0}function p(b){return r(b,"case return do if throw else".split(" "))}function r(b,a){for(var c=0;c<a.length;c+=1)if(a[c]===b)return!0;return!1}function P(b){for(var a=c,d=l.charAt(a);r(d,N)&&d!=b;){a++;if(a>=u)return 0;d=l.charAt(a)}return d}function Q(){B=0;if(c>=u)return["","TK_EOF"];G=!1;var a=l.charAt(c);c+=1;if(A&&f(d.mode)){for(var e=0;r(a,N);){"\n"===a?(b(),m.push("\n"),E=!0,e=0):"\t"===a?e+=4:"\r"!==a&&(e+=1);if(c>=u)return["","TK_EOF"];a=l.charAt(c);c+=1}-1===d.indentation_baseline&&
(d.indentation_baseline=e);if(E){var g;for(g=0;g<d.indentation_level+1;g+=1)m.push(D);if(-1!==d.indentation_baseline)for(g=0;g<e-d.indentation_baseline;g++)m.push(" ")}}else{for(;r(a,N);){"\n"===a&&(B+=T?B<=T?1:0:1);if(c>=u)return["","TK_EOF"];a=l.charAt(c);c+=1}if(R&&1<B)for(g=0;g<B;g+=1)h(0===g),E=!0;G=0<B}if(r(a,O)){if(c<u)for(;r(l.charAt(c),O)&&!(a+=l.charAt(c),c+=1,c===u););if(c!==u&&a.match(/^[0-9]+[Ee]$/)&&("-"===l.charAt(c)||"+"===l.charAt(c)))return e=l.charAt(c),c+=1,g=Q(c),a+=e+g[0],[a,
"TK_WORD"];if("in"===a)return[a,"TK_OPERATOR"];G&&("TK_OPERATOR"!==j&&"TK_EQUALS"!==j&&!d.if_line&&(R||"var"!==k))&&h();return[a,"TK_WORD"]}if("("===a||"["===a)return[a,"TK_START_EXPR"];if(")"===a||"]"===a)return[a,"TK_END_EXPR"];if("{"===a)return[a,"TK_START_BLOCK"];if("}"===a)return[a,"TK_END_BLOCK"];if(";"===a)return[a,"TK_SEMICOLON"];if("/"===a){e="";g=!0;if("*"===l.charAt(c)){c+=1;if(c<u)for(;!("*"===l.charAt(c)&&l.charAt(c+1)&&"/"===l.charAt(c+1))&&c<u;){a=l.charAt(c);e+=a;if("\r"===a||"\n"===
a)g=!1;c+=1;if(c>=u)break}c+=2;return g&&0==B?["/*"+e+"*/","TK_INLINE_COMMENT"]:["/*"+e+"*/","TK_BLOCK_COMMENT"]}if("/"===l.charAt(c)){for(e=a;"\r"!==l.charAt(c)&&"\n"!==l.charAt(c)&&!(e+=l.charAt(c),c+=1,c>=u););c+=1;G&&h();return[e,"TK_COMMENT"]}}if("'"===a||'"'===a||"/"===a&&("TK_WORD"===j&&p(k)||")"===k&&r(d.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||"TK_COMMENT"===j||"TK_START_EXPR"===j||"TK_START_BLOCK"===j||"TK_END_BLOCK"===j||"TK_OPERATOR"===j||"TK_EQUALS"===j||"TK_EOF"===j||
"TK_SEMICOLON"===j)){e=a;g=!1;var i=a;if(c<u)if("/"===e)for(a=!1;g||a||l.charAt(c)!==e;){if(i+=l.charAt(c),g?g=!1:(g="\\"===l.charAt(c),"["===l.charAt(c)?a=!0:"]"===l.charAt(c)&&(a=!1)),c+=1,c>=u)return[i,"TK_STRING"]}else for(;g||l.charAt(c)!==e;)if(i+=l.charAt(c),g=g?!1:"\\"===l.charAt(c),c+=1,c>=u)return[i,"TK_STRING"];c+=1;i+=e;if("/"===e)for(;c<u&&r(l.charAt(c),O);)i+=l.charAt(c),c+=1;return[i,"TK_STRING"]}if("#"===a){if(0===m.length&&"!"===l.charAt(c)){for(i=a;c<u&&"\n"!=a;)a=l.charAt(c),i+=
a,c+=1;m.push(t(i)+"\n");h();return Q()}e="#";if(c<u&&r(l.charAt(c),U)){do a=l.charAt(c),e+=a,c+=1;while(c<u&&"#"!==a&&"="!==a);"#"!==a&&("["===l.charAt(c)&&"]"===l.charAt(c+1)?(e+="[]",c+=2):"{"===l.charAt(c)&&"}"===l.charAt(c+1)&&(e+="{}",c+=2));return[e,"TK_WORD"]}}if("<"===a&&"<\!--"===l.substring(c-1,c+3)){c+=3;for(a="<\!--";"\n"!=l[c]&&c<u;)a+=l[c],c++;d.in_html_comment=!0;return[a,"TK_COMMENT"]}if("-"===a&&d.in_html_comment&&"--\>"===l.substring(c-1,c+2))return d.in_html_comment=!1,c+=2,G&&
h(),["--\>","TK_COMMENT"];if(r(a,H)){for(;c<u&&r(a+l.charAt(c),H)&&!(a+=l.charAt(c),c+=1,c>=u););return"="===a?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var l,m,o,j,k,s,C,d,L,D,N,O,H,c,F,U,q,I,M,G,E,B,J="",e=e?e:{},z;void 0!==e.space_after_anon_function&&void 0===e.jslint_happy&&(e.jslint_happy=e.space_after_anon_function);void 0!==e.braces_on_own_line&&(z=e.braces_on_own_line?"expand":"collapse");z=e.brace_style?e.brace_style:z?z:"collapse";C=e.indent_size?e.indent_size:4;F=e.indent_char?
e.indent_char:" ";var R="undefined"===typeof e.preserve_newlines?!0:e.preserve_newlines,T="undefined"===typeof e.max_preserve_newlines?!1:e.max_preserve_newlines,A="undefined"===typeof e.keep_array_indentation?!1:e.keep_array_indentation,V="undefined"===typeof e.space_before_conditional?!0:e.space_before_conditional,S="undefined"===typeof e.indent_case?!1:e.indent_case;E=!1;var u=v.length;for(D="";0<C;)D+=F,C-=1;for(;v&&(" "===v[0]||"\t"===v[0]);)J+=v[0],v=v.substring(1);l=v;C="";j="TK_START_EXPR";
s=k="";m=[];M=!1;N=["\n","\r","\t"," "];O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");U="0123456789".split("");H="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::";H+=" <%= <% %> <?= <? ?>";H=H.split(" ");F="continue try throw return var if switch case default for while break function".split(" ");L=[];w("BLOCK");for(c=0;;){I=Q(c);o=I[0];I=I[1];if("TK_EOF"===I)break;switch(I){case "TK_START_EXPR":if("["===
o){if("TK_WORD"===j||")"===k){r(k,F)&&g();w("(EXPRESSION)");i();break}"[EXPRESSION]"===d.mode||"[INDENTED-EXPRESSION]"===d.mode?"]"===s&&","===k?("[EXPRESSION]"===d.mode&&(d.mode="[INDENTED-EXPRESSION]",A||(d.indentation_level+=1)),w("[EXPRESSION]"),A||h()):"["===k?("[EXPRESSION]"===d.mode&&(d.mode="[INDENTED-EXPRESSION]",A||(d.indentation_level+=1)),w("[EXPRESSION]"),A||h()):w("[EXPRESSION]"):w("[EXPRESSION]")}else"for"===C?w("(FOR-EXPRESSION)"):r(C,["if","while"])?w("(COND-EXPRESSION)"):w("(EXPRESSION)");
";"===k||"TK_START_BLOCK"===j?h():"TK_END_EXPR"===j||"TK_START_EXPR"===j||"TK_END_BLOCK"===j||"."===k?G&&h():"TK_WORD"!==j&&"TK_OPERATOR"!==j?g():"function"===C||"typeof"===C?g():(r(k,F)||"catch"===k)&&V&&g();i();break;case "TK_END_EXPR":if("]"===o)if(A){if("}"===k){a();i();y();break}}else if("[INDENTED-EXPRESSION]"===d.mode&&"]"===k){y();h();i();break}y();i();break;case "TK_START_BLOCK":"do"===C?w("DO_BLOCK"):w("BLOCK");if("expand"==z||"expand-strict"==z){if(s=!1,"expand-strict"==z?(s="}"==P())||
h(!0):"TK_OPERATOR"!==j&&("="===k||p(k)&&"else"!==k?g():h(!0)),i(),!s)d.indentation_level+=1}else"TK_OPERATOR"!==j&&"TK_START_EXPR"!==j?"TK_START_BLOCK"===j?h():g():f(d.previous_mode)&&","===k&&("}"===s?g():h()),d.indentation_level+=1,i();break;case "TK_END_BLOCK":y();"expand"==z||"expand-strict"==z?"{"!==k&&h():"TK_START_BLOCK"===j?E?a():b():f(d.mode)&&A?(A=!1,h(),A=!0):h();i();break;case "TK_WORD":if(M){g();i();g();M=!1;break}if("function"===o&&(d.var_line&&(d.var_line_reindented=!0),(E||";"===
k)&&"{"!==k&&"TK_BLOCK_COMMENT"!=j&&"TK_COMMENT"!=j)){B=E?B:0;R||(B=1);for(q=0;q<2-B;q++)h(!1)}if("case"===o||"default"===o&&d.in_case_statement){":"===k||d.case_body?a():(S||d.indentation_level--,h(),S||d.indentation_level++);i();d.in_case=!0;d.in_case_statement=!0;d.case_body=!1;break}q="NONE";"TK_END_BLOCK"===j?r(o.toLowerCase(),["else","catch","finally"])?"expand"==z||"end-expand"==z||"expand-strict"==z?q="NEWLINE":(q="SPACE",g()):q="NEWLINE":"TK_SEMICOLON"===j&&("BLOCK"===d.mode||"DO_BLOCK"===
d.mode)?q="NEWLINE":"TK_SEMICOLON"===j&&n(d.mode)?q="SPACE":"TK_STRING"===j?q="NEWLINE":"TK_WORD"===j?("else"===k&&b(!0),q="SPACE"):"TK_START_BLOCK"===j?q="NEWLINE":"TK_END_EXPR"===j&&(g(),q="NEWLINE");if(r(o,F)&&")"!==k&&(q="else"==k?"SPACE":"NEWLINE","function"===o&&("get"===k||"set"===k)))q="SPACE";d.if_line&&"TK_END_EXPR"===j&&(d.if_line=!1);if(r(o.toLowerCase(),["else","catch","finally"]))"TK_END_BLOCK"!==j||"expand"==z||"end-expand"==z||"expand-strict"==z?h():(b(!0),g());else if("NEWLINE"===
q){if(!(("TK_START_EXPR"===j||"="===k||","===k)&&"function"===o))if("function"===o&&"new"==k)g();else if(p(k))g();else if("TK_END_EXPR"!==j){if(("TK_START_EXPR"!==j||"var"!==o)&&":"!==k)"if"===o&&"else"===C&&"{"!==k?g():(d.var_line=!1,d.var_line_reindented=!1,h())}else r(o,F)&&")"!=k&&(d.var_line=!1,d.var_line_reindented=!1,h())}else f(d.mode)&&","===k&&"}"===s?h():"SPACE"===q&&g();i();C=o;"var"===o&&(d.var_line=!0,d.var_line_reindented=!1,d.var_line_tainted=!1);"if"===o&&(d.if_line=!0);"else"===
o&&(d.if_line=!1);break;case "TK_SEMICOLON":i();d.var_line=!1;d.var_line_reindented=!1;"OBJECT"==d.mode&&(d.mode="BLOCK");break;case "TK_STRING":"TK_END_EXPR"===j&&r(d.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?g():"TK_STRING"==j||"TK_START_BLOCK"===j||"TK_END_BLOCK"===j||"TK_SEMICOLON"===j?h():"TK_WORD"===j&&g();i();break;case "TK_EQUALS":d.var_line&&(d.var_line_tainted=!0);g();i();g();break;case "TK_OPERATOR":q=s=!0;d.var_line&&(","===o&&n(d.mode))&&(d.var_line_tainted=!1);if(d.var_line&&
","===o)if(d.var_line_tainted){i();d.var_line_reindented=!0;d.var_line_tainted=!1;h();break}else d.var_line_tainted=!1;if(p(k)){g();i();break}if(":"===o&&d.in_case){S&&(d.case_body=!0);i();h();d.in_case=!1;break}if("::"===o){i();break}if(","===o){d.var_line?d.var_line_tainted?(i(),h(),d.var_line_tainted=!1):(i(),g()):"TK_END_BLOCK"===j&&"(EXPRESSION)"!==d.mode?(i(),"OBJECT"===d.mode&&"}"===k?h():g()):"OBJECT"===d.mode?(i(),h()):(i(),g());break}else r(o,["--","++","!"])||r(o,["-","+"])&&(r(j,["TK_START_BLOCK",
"TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||r(k,F))?(q=s=!1,";"===k&&n(d.mode)&&(s=!0),"TK_WORD"===j&&r(k,F)&&(s=!0),"BLOCK"===d.mode&&("{"===k||";"===k)&&h()):"."===o?s=!1:":"===o?0==d.ternary_depth?(d.mode="OBJECT",s=!1):d.ternary_depth-=1:"?"===o&&(d.ternary_depth+=1);s&&g();i();q&&g();break;case "TK_BLOCK_COMMENT":s=o.split(/\x0a|\x0d\x0a/);if(K(s.slice(1),"*")){h();m.push(s[0]);for(q=1;q<s.length;q++)h(),m.push(" "),m.push(t(s[q]))}else{1<s.length?h():"TK_END_BLOCK"===j?h():g();for(q=0;q<s.length;q++)m.push(s[q]),
m.push("\n")}"\n"!=P("\n")&&h();break;case "TK_INLINE_COMMENT":g();i();n(d.mode)?g():x();break;case "TK_COMMENT":G?h():g();i();"\n"!=P("\n")&&x();break;case "TK_UNKNOWN":p(k)&&g(),i()}s=k;j=I;k=o}return J+m.join("").replace(/[\n ]+$/,"")}"undefined"!==typeof exports&&(exports.js_beautify=js_beautify);
