function css_beautify(u,f){function b(){return o=u.charAt(++e)}function r(a){for(var C=e;b();)if("\\"==o)b(),b();else if(o==a)break;else if("\n"==o)break;return u.substring(C,e+1)}function x(){for(var a=e;C.test(u.charAt(e+1));)e++;return e!=a}function B(){var a=e;do;while(C.test(b()));return e!=a+1}function h(){var a=e;for(b();b();)if("*"==o&&"/"==u.charAt(e+1)){e++;break}return u.substring(a,e+1)}var f=f||{},g=f.indent_size||4,a=f.indent_char||" ";"string"==typeof g&&(g=parseInt(g));var C=/^\s+$/,
e=-1,o,v=u.match(/^[\r\n]*[\t ]*/)[0],a=Array(g+1).join(a),H=0;print={"{":function(a){print.singleSpace();q.push(a);print.newLine()},"}":function(a){print.newLine();q.push(a);print.newLine()},newLine:function(a){if(!a)for(;C.test(q[q.length-1]);)q.pop();q.length&&q.push("\n");v&&q.push(v)},singleSpace:function(){q.length&&!C.test(q[q.length-1])&&q.push(" ")}};var q=[];for(v&&q.push(v);;){var I=B();if(!o)break;"{"==o?(H++,v+=a,print["{"](o)):"}"==o?(H--,v=v.slice(0,-g),print["}"](o)):'"'==o||"'"==
o?q.push(r(o)):";"==o?q.push(o,"\n",v):"/"==o&&"*"==u.charAt(e+1)?(print.newLine(),q.push(h(),"\n",v)):"("==o?(q.push(o),x(),"url"==q.slice(-4,-1).join("").toLowerCase()&&b()&&(")"!=o&&'"'!=o&&"'"!=o?q.push(r(")")):e--)):")"==o?q.push(o):","==o?(x(),q.push(o),print.singleSpace()):("]"!=o&&("["==o||"="==o?x():I&&print.singleSpace()),q.push(o))}return q.join("").replace(/[\n ]+$/,"")}"undefined"!==typeof exports&&(exports.css_beautify=css_beautify);function html_beautify(u,f){var b,r,x,B,h,f=f||{};r=f.indent_size||4;x=f.indent_char||" ";h=f.brace_style||"collapse";B=f.max_char||"120";unformatted=f.unformatted||["a"];b=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed".split(" "),
extra_liners:["head","body","/html"],in_array:function(a,b){for(var e=0;e<b.length;e++)if(a===b[e])return!0;return!1}};this.get_content=function(){for(var a="",b=[],e=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace))b.length&&(e=!0),this.line_char_count--;else{if(e){if(this.line_char_count>=this.max_char){b.push("\n");for(e=0;e<
this.indent_level;e++)b.push(this.indent_string);this.line_char_count=0}else b.push(" "),this.line_char_count++;e=!1}b.push(a)}}return b.length?b.join(""):""};this.get_contents_to=function(a){if(this.pos==this.input.length)return["","TK_EOF"];var b="",a=RegExp("</"+a+"\\s*>","igm");a.lastIndex=this.pos;a=(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(b=this.input.substring(this.pos,a),this.pos=a);return b};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+"count"]++:this.tags[a+
"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1==this.tags[a+
"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.get_tag=function(){var a="",b=[],e=!1;do{if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace))e=!0,this.line_char_count--;else{if("'"===a||'"'===a)if(!b[1]||"!"!==b[1])a+=this.get_unformatted(a),e=!0;"="===a&&(e=!1);b.length&&("="!==b[b.length-1]&&">"!==a&&e)&&(this.line_char_count>=this.max_char?(this.print_newline(!1,
b),this.line_char_count=0):(b.push(" "),this.line_char_count++),e=!1);b.push(a)}}while(">"!==a);a=b.join("");e=-1!=a.indexOf(" ")?a.indexOf(" "):a.indexOf(">");e=a.substring(1,e).toLowerCase();"/"===a.charAt(a.length-2)||this.Utils.in_array(e,this.Utils.single_token)?this.tag_type="SINGLE":"script"===e?(this.record_tag(e),this.tag_type="SCRIPT"):"style"===e?(this.record_tag(e),this.tag_type="STYLE"):this.Utils.in_array(e,unformatted)?(a=this.get_unformatted("</"+e+">",a),b.push(a),this.tag_type="SINGLE"):
"!"===e.charAt(0)?-1!=e.indexOf("[if")?(-1!=a.indexOf("!IE")&&(a=this.get_unformatted("--\>",a),b.push(a)),this.tag_type="START"):-1!=e.indexOf("[endif")?(this.tag_type="END",this.unindent()):(a=-1!=e.indexOf("[cdata[")?this.get_unformatted("]]\>",a):this.get_unformatted("--\>",a),b.push(a),this.tag_type="SINGLE"):("/"===e.charAt(0)?(this.retrieve_tag(e.substring(1)),this.tag_type="END"):(this.record_tag(e),this.tag_type="START"),this.Utils.in_array(e,this.Utils.extra_liners)&&this.print_newline(!0,
this.output));return b.join("")};this.get_unformatted=function(a,b){if(b&&-1!=b.indexOf(a))return"";var e="",h="",f=!0;do{if(this.pos>=this.input.length)break;e=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(e,this.Utils.whitespace)){if(!f){this.line_char_count--;continue}if("\n"===e||"\r"===e){h+="\n";this.line_char_count=0;continue}}h+=e;this.line_char_count++;f=!0}while(-1==h.indexOf(a));return h};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===
this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||0;return 1>a?"":Array(a+1).join(this.indent_string)};this.printer=function(a,b,e,h,f){this.input=a||"";this.output=[];this.indent_character=
b;this.indent_string="";this.indent_size=e;this.brace_style=f;this.indent_level=0;this.max_char=h;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;if(b&&b.length){if(!a)for(;this.Utils.in_array(b[b.length-1],this.Utils.whitespace);)b.pop();b.push("\n");for(var e=0;e<this.indent_level;e++)b.push(this.indent_string)}};this.print_token=function(a){this.output.push(a)};this.indent=function(){this.indent_level++};
this.unindent=function(){0<this.indent_level&&this.indent_level--}};return this};for(b.printer(u,x,r,B,h);;){r=b.get_token();b.token_text=r[0];b.token_type=r[1];if("TK_EOF"===b.token_type)break;switch(b.token_type){case "TK_TAG_START":b.print_newline(!1,b.output);b.print_token(b.token_text);b.indent();b.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":b.print_newline(!1,b.output);b.print_token(b.token_text);b.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===b.last_token&&
""===b.last_text&&(r=b.token_text.match(/\w+/)[0],x=b.output[b.output.length-1].match(/<\s*(\w+)/),(null===x||x[1]!==r)&&b.print_newline(!0,b.output));b.print_token(b.token_text);b.current_mode="CONTENT";break;case "TK_TAG_SINGLE":b.print_newline(!1,b.output);b.print_token(b.token_text);b.current_mode="CONTENT";break;case "TK_CONTENT":""!==b.token_text&&b.print_token(b.token_text);b.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==b.token_text){b.output.push("\n");r=b.token_text;
if("TK_SCRIPT"==b.token_type)var g="function"==typeof js_beautify&&js_beautify;else"TK_STYLE"==b.token_type&&(g="function"==typeof css_beautify&&css_beautify);B="keep"==f.indent_scripts?0:"separate"==f.indent_scripts?-b.indent_level:1;x=b.get_full_indent(B);g?r=g(r.replace(/^\s*/,x),f):(h=r.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(b.indent_string).length-1,B=b.get_full_indent(B-h),r=r.replace(/^\s*/,x).replace(/\r\n|\r|\n/g,"\n"+B).replace(/\s*$/,""));r&&(b.print_token(r),b.print_newline(!0,b.output))}b.current_mode=
"TAG"}b.last_token=b.token_type;b.last_text=b.token_text}return b.output.join("")}"undefined"!==typeof exports&&(exports.html_beautify=html_beautify);function js_beautify(u,f){function b(a){for(a="undefined"===typeof a?!1:a;m.length&&(" "===m[m.length-1]||m[m.length-1]===D||m[m.length-1]===L||a&&("\n"===m[m.length-1]||"\r"===m[m.length-1]));)m.pop()}function r(a){return a.replace(/^\s\s*|\s\s*$/,"")}function x(a){for(var a=a.replace(/\x0d/g,""),b=[],c=a.indexOf("\n");-1!=c;)b.push(a.substring(0,c)),a=a.substring(c+1),c=a.indexOf("\n");a.length&&b.push(a);return b}function B(){var a=y;y=!1;h();y=a}function h(a){c.eat_next_space=!1;if(!y||!o(c.mode))if(a=
"undefined"===typeof a?!0:a,c.if_line=!1,b(),m.length){if("\n"!==m[m.length-1]||!a)E=!0,m.push("\n");L&&m.push(L);for(a=0;a<c.indentation_level;a+=1)m.push(D);c.var_line&&c.var_line_reindented&&m.push(D);c.case_body&&m.push(D)}}function g(){if("TK_COMMENT"===i)return h();if(c.eat_next_space)c.eat_next_space=!1;else{var a=" ";m.length&&(a=m[m.length-1]);" "!==a&&("\n"!==a&&a!==D)&&m.push(" ")}}function a(){E=!1;c.eat_next_space=!1;m.push(n)}function C(){m.length&&m[m.length-1]===D&&m.pop()}function e(a){c&&
M.push(c);c={previous_mode:c?c.mode:"BLOCK",mode:a,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_baseline:-1,indentation_level:c?c.indentation_level+(c.case_body?1:0)+(c.var_line&&c.var_line_reindented?1:0):0,ternary_depth:0}}function o(a){return"[EXPRESSION]"===a||"[INDENTED-EXPRESSION]"===a}function v(a){return p(a,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}
function H(){N="DO_BLOCK"===c.mode;if(0<M.length){var a=c.mode;c=M.pop();c.previous_mode=a}}function q(a,b){for(var c=0;c<a.length;c++)if(r(a[c]).charAt(0)!==b)return!1;return!0}function I(a){return p(a,"case return do if throw else".split(" "))}function p(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function T(a){for(var b=d,c=k.charAt(b);p(c,O)&&c!=a;){b++;if(b>=s)return 0;c=k.charAt(b)}return c}function Q(){A=0;if(d>=s)return["","TK_EOF"];G=!1;var a=k.charAt(d);d+=1;if(y&&o(c.mode)){for(var e=
0;p(a,O);){"\n"===a?(b(),m.push("\n"),E=!0,e=0):"\t"===a?e+=4:"\r"!==a&&(e+=1);if(d>=s)return["","TK_EOF"];a=k.charAt(d);d+=1}-1===c.indentation_baseline&&(c.indentation_baseline=e);if(E){var f;for(f=0;f<c.indentation_level+1;f+=1)m.push(D);if(-1!==c.indentation_baseline)for(f=0;f<e-c.indentation_baseline;f++)m.push(" ")}}else{for(;p(a,O);){"\n"===a&&(A+=U?A<=U?1:0:1);if(d>=s)return["","TK_EOF"];a=k.charAt(d);d+=1}if(R&&1<A)for(f=0;f<A;f+=1)h(0===f),E=!0;G=0<A}if(p(a,P)){if(d<s)for(;p(k.charAt(d),
P)&&!(a+=k.charAt(d),d+=1,d===s););if(d!==s&&a.match(/^[0-9]+[Ee]$/)&&("-"===k.charAt(d)||"+"===k.charAt(d)))return e=k.charAt(d),d+=1,f=Q(d),a+=e+f[0],[a,"TK_WORD"];if("in"===a)return[a,"TK_OPERATOR"];G&&("TK_OPERATOR"!==i&&"TK_EQUALS"!==i&&!c.if_line&&(R||"var"!==l))&&h();return[a,"TK_WORD"]}if("("===a||"["===a)return[a,"TK_START_EXPR"];if(")"===a||"]"===a)return[a,"TK_END_EXPR"];if("{"===a)return[a,"TK_START_BLOCK"];if("}"===a)return[a,"TK_END_BLOCK"];if(";"===a)return[a,"TK_SEMICOLON"];if("/"===
a){e="";f=!0;if("*"===k.charAt(d)){d+=1;if(d<s)for(;d<s&&!("*"===k.charAt(d)&&k.charAt(d+1)&&"/"===k.charAt(d+1));){a=k.charAt(d);e+=a;if("\n"===a||"\r"===a)f=!1;d+=1;if(d>=s)break}d+=2;return f&&0==A?["/*"+e+"*/","TK_INLINE_COMMENT"]:["/*"+e+"*/","TK_BLOCK_COMMENT"]}if("/"===k.charAt(d)){for(e=a;"\r"!==k.charAt(d)&&"\n"!==k.charAt(d)&&!(e+=k.charAt(d),d+=1,d>=s););G&&h();return[e,"TK_COMMENT"]}}if("'"===a||'"'===a||"/"===a&&("TK_WORD"===i&&I(l)||")"===l&&p(c.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||
"TK_COMMENT"===i||"TK_START_EXPR"===i||"TK_START_BLOCK"===i||"TK_END_BLOCK"===i||"TK_OPERATOR"===i||"TK_EQUALS"===i||"TK_EOF"===i||"TK_SEMICOLON"===i)){e=a;f=!1;var g=0,n=0,j=a;if(d<s)if("/"===e)for(a=!1;f||a||k.charAt(d)!==e;){if(j+=k.charAt(d),f?f=!1:(f="\\"===k.charAt(d),"["===k.charAt(d)?a=!0:"]"===k.charAt(d)&&(a=!1)),d+=1,d>=s)return[j,"TK_STRING"]}else for(;f||k.charAt(d)!==e;){j+=k.charAt(d);if(g&&g>=n){if((g=parseInt(j.substr(-n),16))&&32<=g&&126>=g)g=String.fromCharCode(g),j=j.substr(0,
j.length-n-2)+(g===e||"\\"===g?"\\":"")+g;g=0}g?g++:f?(f=!1,X&&("x"===k.charAt(d)?(g++,n=2):"u"===k.charAt(d)&&(g++,n=4))):f="\\"===k.charAt(d);d+=1;if(d>=s)return[j,"TK_STRING"]}d+=1;j+=e;if("/"===e)for(;d<s&&p(k.charAt(d),P);)j+=k.charAt(d),d+=1;return[j,"TK_STRING"]}if("#"===a){if(0===m.length&&"!"===k.charAt(d)){for(j=a;d<s&&"\n"!=a;)a=k.charAt(d),j+=a,d+=1;m.push(r(j)+"\n");h();return Q()}e="#";if(d<s&&p(k.charAt(d),V)){do a=k.charAt(d),e+=a,d+=1;while(d<s&&"#"!==a&&"="!==a);"#"!==a&&("["===
k.charAt(d)&&"]"===k.charAt(d+1)?(e+="[]",d+=2):"{"===k.charAt(d)&&"}"===k.charAt(d+1)&&(e+="{}",d+=2));return[e,"TK_WORD"]}}if("<"===a&&"<\!--"===k.substring(d-1,d+3)){d+=3;for(a="<\!--";"\n"!=k.charAt(d)&&d<s;)a+=k.charAt(d),d++;c.in_html_comment=!0;return[a,"TK_COMMENT"]}if("-"===a&&c.in_html_comment&&"--\>"===k.substring(d-1,d+2))return c.in_html_comment=!1,d+=2,G&&h(),["--\>","TK_COMMENT"];if(p(a,J)){for(;d<s&&p(a+k.charAt(d),J)&&!(a+=k.charAt(d),d+=1,d>=s););return"="===a?[a,"TK_EQUALS"]:[a,
"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var k,m,n,i,l,t,z,c,M,D,O,P,J,d,F,V,j,K,N,G,E,A,L="",f=f?f:{},w;void 0!==f.space_after_anon_function&&void 0===f.jslint_happy&&(f.jslint_happy=f.space_after_anon_function);void 0!==f.braces_on_own_line&&(w=f.braces_on_own_line?"expand":"collapse");w=f.brace_style?f.brace_style:w?w:"collapse";z=f.indent_size?f.indent_size:4;F=f.indent_char?f.indent_char:" ";var R="undefined"===typeof f.preserve_newlines?!0:f.preserve_newlines,U="undefined"===typeof f.max_preserve_newlines?
!1:f.max_preserve_newlines,y="undefined"===typeof f.keep_array_indentation?!1:f.keep_array_indentation,Y="undefined"===typeof f.space_before_conditional?!0:f.space_before_conditional,S="undefined"===typeof f.indent_case?!1:f.indent_case,X="undefined"===typeof f.unescape_strings?!1:f.unescape_strings;E=!1;var s=u.length;for(D="";0<z;)D+=F,z-=1;for(;u&&(" "===u.charAt(0)||"\t"===u.charAt(0));)L+=u.charAt(0),u=u.substring(1);k=u;z="";i="TK_START_EXPR";t=l="";m=[];N=!1;O=["\n","\r","\t"," "];P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");
V="0123456789".split("");J="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::";J+=" <%= <% %> <?= <? ?>";J=J.split(" ");F="continue try throw return var if switch case default for while break function".split(" ");M=[];e("BLOCK");for(d=0;;){K=Q(d);n=K[0];K=K[1];if("TK_EOF"===K)break;switch(K){case "TK_START_EXPR":if("["===n){if("TK_WORD"===i||")"===l){p(l,F)&&g();e("(EXPRESSION)");a();break}"[EXPRESSION]"===c.mode||"[INDENTED-EXPRESSION]"===
c.mode?"]"===t&&","===l?("[EXPRESSION]"===c.mode&&(c.mode="[INDENTED-EXPRESSION]",y||(c.indentation_level+=1)),e("[EXPRESSION]"),y||h()):"["===l?("[EXPRESSION]"===c.mode&&(c.mode="[INDENTED-EXPRESSION]",y||(c.indentation_level+=1)),e("[EXPRESSION]"),y||h()):e("[EXPRESSION]"):e("[EXPRESSION]")}else"for"===z?e("(FOR-EXPRESSION)"):p(z,["if","while"])?e("(COND-EXPRESSION)"):e("(EXPRESSION)");";"===l||"TK_START_BLOCK"===i?h():"TK_END_EXPR"===i||"TK_START_EXPR"===i||"TK_END_BLOCK"===i||"."===l?G&&h():"TK_WORD"!==
i&&"TK_OPERATOR"!==i?g():"function"===z||"typeof"===z?g():(p(l,F)||"catch"===l)&&Y&&g();a();break;case "TK_END_EXPR":if("]"===n)if(y){if("}"===l){C();a();H();break}}else if("[INDENTED-EXPRESSION]"===c.mode&&"]"===l){H();h();a();break}H();a();break;case "TK_START_BLOCK":"do"===z?e("DO_BLOCK"):e("BLOCK");if("expand"==w||"expand-strict"==w){if(t=!1,"expand-strict"==w?(t="}"==T())||h(!0):"TK_OPERATOR"!==i&&("="===l||I(l)&&"else"!==l?g():h(!0)),a(),!t)c.indentation_level+=1}else"TK_OPERATOR"!==i&&"TK_START_EXPR"!==
i?"TK_START_BLOCK"===i?h():g():o(c.previous_mode)&&","===l&&("}"===t?g():h()),c.indentation_level+=1,a();break;case "TK_END_BLOCK":H();"expand"==w||"expand-strict"==w?"{"!==l&&h():"TK_START_BLOCK"===i?E?C():b():o(c.mode)&&y?(y=!1,h(),y=!0):h();a();break;case "TK_WORD":if(N){g();a();g();N=!1;break}if("function"===n){c.var_line&&(c.var_line_reindented=!0);if((E||";"===l)&&"{"!==l&&"TK_BLOCK_COMMENT"!=i&&"TK_COMMENT"!=i){A=E?A:0;R||(A=1);for(t=0;t<2-A;t++)h(!1)}("TK_WORD"==i||"get"===l||"set"===l||"new"===
l)&&g();a();z=n;break}if("case"===n||"default"===n&&c.in_case_statement){":"===l||c.case_body?C():(S||c.indentation_level--,h(),S||c.indentation_level++);a();c.in_case=!0;c.in_case_statement=!0;c.case_body=!1;break}j="NONE";"TK_END_BLOCK"===i?p(n.toLowerCase(),["else","catch","finally"])?"expand"==w||"end-expand"==w||"expand-strict"==w?j="NEWLINE":(j="SPACE",g()):j="NEWLINE":"TK_SEMICOLON"===i&&("BLOCK"===c.mode||"DO_BLOCK"===c.mode)?j="NEWLINE":"TK_SEMICOLON"===i&&v(c.mode)?j="SPACE":"TK_STRING"===
i?j="NEWLINE":"TK_WORD"===i?("else"===l&&b(!0),j="SPACE"):"TK_START_BLOCK"===i?j="NEWLINE":"TK_END_EXPR"===i&&(g(),j="NEWLINE");p(n,F)&&")"!==l&&(j="else"==l?"SPACE":"NEWLINE");c.if_line&&"TK_END_EXPR"===i&&(c.if_line=!1);if(p(n.toLowerCase(),["else","catch","finally"]))"TK_END_BLOCK"!==i||"expand"==w||"end-expand"==w||"expand-strict"==w?h():(b(!0),g());else if("NEWLINE"===j)if(I(l))g();else if("TK_END_EXPR"!==i){if(("TK_START_EXPR"!==i||"var"!==n)&&":"!==l)"if"===n&&"else"===z&&"{"!==l?g():(c.var_line=
!1,c.var_line_reindented=!1,h())}else p(n,F)&&")"!=l&&(c.var_line=!1,c.var_line_reindented=!1,h());else o(c.mode)&&","===l&&"}"===t?h():"SPACE"===j&&g();a();z=n;"var"===n&&(c.var_line=!0,c.var_line_reindented=!1,c.var_line_tainted=!1);"if"===n&&(c.if_line=!0);"else"===n&&(c.if_line=!1);break;case "TK_SEMICOLON":a();c.var_line=!1;c.var_line_reindented=!1;"OBJECT"==c.mode&&(c.mode="BLOCK");break;case "TK_STRING":"TK_END_EXPR"===i&&p(c.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?g():"TK_COMMENT"===
i||"TK_STRING"==i||"TK_START_BLOCK"===i||"TK_END_BLOCK"===i||"TK_SEMICOLON"===i?h():"TK_WORD"===i&&g();a();break;case "TK_EQUALS":c.var_line&&(c.var_line_tainted=!0);g();a();g();break;case "TK_OPERATOR":var W=j=!0;c.var_line&&(","===n&&v(c.mode))&&(c.var_line_tainted=!1);if(c.var_line&&","===n)if(c.var_line_tainted){a();c.var_line_reindented=!0;c.var_line_tainted=!1;h();break}else c.var_line_tainted=!1;if(I(l)){g();a();break}if("*"==n&&"TK_UNKNOWN"==i&&!t.match(/^\d+$/)){a();break}if(":"===n&&c.in_case){S&&
(c.case_body=!0);a();h();c.in_case=!1;break}if("::"===n){a();break}if(","===n){c.var_line?c.var_line_tainted?(a(),h(),c.var_line_tainted=!1):(a(),g()):"TK_END_BLOCK"===i&&"(EXPRESSION)"!==c.mode?(a(),"OBJECT"===c.mode&&"}"===l?h():g()):"OBJECT"===c.mode?(a(),h()):(a(),g());break}else p(n,["--","++","!"])||p(n,["-","+"])&&(p(i,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||p(l,F))?(W=j=!1,";"===l&&v(c.mode)&&(j=!0),"TK_WORD"===i&&p(l,F)&&(j=!0),"BLOCK"===c.mode&&("{"===l||";"===l)&&
h()):"."===n?j=!1:":"===n?0==c.ternary_depth?("BLOCK"==c.mode&&(c.mode="OBJECT"),j=!1):c.ternary_depth-=1:"?"===n&&(c.ternary_depth+=1);j&&g();a();W&&g();break;case "TK_BLOCK_COMMENT":j=x(n);if(q(j.slice(1),"*")){h();m.push(j[0]);for(t=1;t<j.length;t++)h(),m.push(" "),m.push(r(j[t]))}else{1<j.length?h():"TK_END_BLOCK"===i?h():g();for(t=0;t<j.length;t++)m.push(j[t]),m.push("\n")}"\n"!=T("\n")&&h();break;case "TK_INLINE_COMMENT":g();a();v(c.mode)?g():B();break;case "TK_COMMENT":","==l&&!G&&b(!0);"TK_COMMENT"!=
i&&(G?h():g());a();break;case "TK_UNKNOWN":I(l)&&g(),a()}t=l;i=K;l=n}return L+m.join("").replace(/[\r\n ]+$/,"")}"undefined"!==typeof exports&&(exports.js_beautify=js_beautify);
